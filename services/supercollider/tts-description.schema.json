{
    "$schema": "http://json-schema.org/draft-07/schema",
    "$id": "https://image.a11y.mcgill.ca/services/supercollider/tts-description.schema.json",
    "type": "object",
    "title": "SuperCollider Generic TTS",
    "description": "Communication to SuperCollider to assemble TTS segments with non-speech audio.",
    "properties": {
        "audioTemplate": {
            "description": "The locations of the introduction phrase and filler words in the TTS audio.",
            "type": "object",
            "properties": {
                "intro": { "$ref": "../../definitions.json#/definitions/segmentOffset" },
                "joining": {
                    "description": "Joining words",
                    "type": "object",
                    "additionalProperties": { "$ref": "../../definitions.json#/definitions/segmentOffset" }
                }
            },
            "required": [ "intro" ]
        },
        "ordering": {
            "description": "The type of ordering to use when rendering the description of the scene.",
            "type": "string",
            "enum": [
                "leftToRight",
                "rightToLeft",
                "bigToSmall",
                "smallToBig",
                "topToBottom",
                "bottomToTop"
            ]
        },
        "objects": {
            "description": "Object list generated by the object detection preprocessor. This should reference the actual schema.",
            "type": "array",
            "items": {
                "allOf": [
                    { "$ref": "../../preprocessors/object-detection.schema.json#/definitions/object" },
                    {
                        "type": "object",
                        "properties": {
                            "offset": { "$ref": "../../definitions.json#/definitions/segmentOffset" }
                        }
                    }
                ]
            }
        },
        "groups": {
            "description": "Groupings composed of a subset of objects detected. This should reference the actual schema.",
            "type": "object"
        },
        "ttsFileName": {
            "description": "The name of the file containing the TTS audio. This will be in the same directory as the file implementing this object.",
            "type": "string"
        }
    },
    "required": [
        "audioTemplate",
        "ordering",
        "objects",
        "ttsFileName"
    ]
}

# IMAGE Preprocessors
## What preprocessors are and how they work
Preprocessors are docker services that take the initial request and extract meaningful information, placing it into a JSON block that then gets passed to the handlers so they can create renderings. For example, an object detection preprocessor examines a photograph and outputs a JSON block that contains the coordinates of bounding boxes for various objects like people, umbrellas, and neckties.

Each preprocessor advertises itself to the orchestrator component by adding the label `ca.mcgill.a11y.image.preprocessor: [priority]`. The priority is a number that determines the order in which the preprocessors will be run, starting with lower values. For example, a preprocessor that groups detected objects together would need to run after the object detector had already run (and found the individual objects!), so it would have a higher priority number than the object detector itself. Multiple preprocessors can have the same priority if they do not have any dependency on each-other, which lets them run in parallel, speeding up the overall response time. Once labeled in this way, the preprocessor will receive HTTP requests at `/preprocess` containing the request, plus all of the JSON generated by previously run preprocessors.

More information on preprocessors and how they fit into the overall system is available on the wiki.

## What is in this directory
This directory contains all the preprocessors produced by the IMAGE project. Not all the preprocessors here are currently running on our server at https://image.a11y.mcgill.ca! Some preprocessors are now deprecated and have been replaced, but are kept here for documentation and reference.

For more information, consult the individual READMEs of the individual preprocessors.
